<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Omega Registration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Error အမှား गलती பிழை</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div id="alert" class="alert" >
                    <strong>{{ message }}</strong>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
$(document).ready(function() {
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            $('#exampleModal').modal('show');
        {% endif %}
    {% endwith %}
});
</script>

    <script>
        async function loadTranslations(language) {
            const response = await fetch('translations.json');

            const translations = await response.json();
            const langData = translations[language];

            if (langData) {

                document.getElementById('formTitle').textContent = langData.formTitle;
                document.getElementById('label_name').textContent = langData.label_name;
                document.getElementById('label_gender').textContent = langData.label_gender;
                document.getElementById('label_male').textContent = langData.label_male;
                document.getElementById('label_female').textContent = langData.label_female;
                document.getElementById('label_unknown').textContent = langData.label_unknown;
                document.getElementById('label_date_of_birth').textContent = langData.label_date_of_birth;
                document.getElementById('label_finNum').textContent = langData.label_finNum;
                document.getElementById('label_sgMobileNum').textContent = langData.label_sgMobileNum;
                document.getElementById('label_homeCountryMobileNum').textContent = langData.label_homeCountryMobileNum;
                document.getElementById('label_country').textContent = langData.label_country;
                document.getElementById('label_yearJoined').textContent = langData.label_yearJoined;
                document.getElementById('label_languages').textContent = langData.label_languages;
                document.getElementById('label_Myanmar').textContent = langData.label_Myanmar;
                document.getElementById('label_India').textContent = langData.label_India;
                document.getElementById('label_SriLanka').textContent = langData.label_SriLanka;
                document.getElementById('label_Indonesia').textContent = langData.label_Indonesia;
                document.getElementById('label_Bangladesh').textContent = langData.label_Bangladesh;
                document.getElementById('label_Nepal').textContent = langData.label_Nepal;
                document.getElementById('label_submit').textContent = langData.label_submit;
                document.getElementById('instructions').textContent = langData.instructions;
                document.getElementById('instructions_2').textContent = langData.instructions_2;
                document.getElementById('header').textContent = langData.header;






            } else {
                console.error('Language not found!');
            }
        }

        function setLanguage(language) {
            loadTranslations(language);
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadTranslations('english');
        });
    </script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}">
</head>
<body>
    <div class="container mt-5">

        <h2 class="title" id="formTitle">Registration Form</h2>
        <h4 class="subtitle">Select Language/ဘာသာစကားကိုရွေးချယ်ပါ။/भाषा चुने/மொழியை தேர்ந்தெடுங்கள்</h4>
        <div class="d-flex justify-content-center mb-3">

            <button class="btn btn-secondary mr-2 btn-english" onclick="setLanguage('english')">English</button>
            <button class="btn btn-secondary mr-2 btn-burmese" onclick="setLanguage('burmese')">မြန်မာ</button>
            <button class="btn btn-secondary mr-2 btn-hindi" onclick="setLanguage('hindi')">हिंदी</button>
            <button class="btn btn-secondary mr-2 btn-tamil" onclick="setLanguage('tamil')">தமிழ்</button>

        </div>
        <form action="submit-form" method="post" class="needs-validation">
             <div class="jumbotron">
            <div class="col-sm-12 col-md-12 col-lg-12 text-center">

                    <img src="https://i0.wp.com/brahmcentre.com/wp-content/uploads/2021/03/BC-Logo-High-Resolution.png?resize=480%2C456&ssl=1" width="200" height="200">
            </div>
        </div>



        <div class="row bg-primary ">
            <div class="col-sm-12 col-md-12 col-lg-12">Brahm Centre - OMEGA FORM</div>

        </div>




        <div class="row bg-secondary">
            <div class="col-sm-12 col-md-12 col-lg-12" id="header">Personal Details Form</div>
        </div>


        <div class="container text-center">
            <h7 id="instructions"> Thank you for your interest to participate. Please complete this online form with information about yourself. </h7>
        </div>

         <div class="container text-center">
            <h7 id="instructions_2"> Any information collected on this application form will remain strictly confidential and any personal information disclosed for the purpose of obtaining a reference will be treated as confidential and private. </h7>

        </div>

            <div class="form-group">
                <label for="name" id="label_name"></label>
                <input type="text" class="form-control" id="name" name="name"   required>
            </div>

            <div class="form-group">
                <label for="gender" id="label_gender">Name</label>
                <select class="form-control" name="gender" id="gender"  required>
                    <option value="Male" id="label_male">Male</option>
                    <option value="Female" id="label_female">Femaleး</option>
                    <option value="Unknown" id="label_unknown">Unknown</option>
                </select>
            </div>
            <div class="form-group">
                <label for="dob" id="label_date_of_birth">Date of Birth:</label>
                <input type="date" class="form-control" id="dob" name="dob"   required>
            </div>
            <div class="form-group">
                <label for="finNum" id="label_finNum">FIN Number:</label>
                <input type="text" class="form-control" id="finNum" name="finNum" maxlength="9">
            </div>
            <div class="form-group">
                <label for="sgMobileNum" id="label_sgMobileNum">Singapore Mobile Number:</label>
                <input type="text" class="form-control" id="sgMobileNum" name="sgMobileNum" >
            </div>
            <div class="form-group">
                <label for="country" id="label_country">Country:</label>
                <select class="form-control" name="country" id="country"  >
                    <option value="Myanmar" id="label_Myanmar">Myanmar</option>
                    <option value="India" id="label_India">India</option>
                    <option value="Sri Lanka" id="label_SriLanka">Sri Lanka</option>
                    <option value="Indonesia" id="label_Indonesia">Indonesia</option>
                    <option value="Bangladesh" id="label_Bangladesh">Bangladesh</option>
                    <option value="Nepal" id="label_Nepal">Nepal</option>
                </select>
            </div>
            <div class="form-group">
                <label for="homeCountryMobileNum" id="label_homeCountryMobileNum">Home Country Mobile Number:</label>
                <input type="text" class="form-control" id="homeCountryMobileNum" name="homeCountryMobileNum"   maxlength="12" required >
            </div>

            <div class="form-group">
                <label for="yearJoined" id="label_yearJoined">Year Joined:</label>
                <input type="number" class="form-control" id="yearJoined" name="yearJoined" min="2024" max="9999"  required>
            </div>
            <div class="form-group">
                <label for="languages" id="label_languages">Languages:</label>
                <select class="form-control" name="languages" id="languages" multiple size="10" required></select>
                    <script>

                        var picklist_values_str = {{ picklist_values_str | tojson }};
                        var picklistValues = picklist_values_str.split(', ').map(function(item) {
                        return item.replace(/"/g, ''); // Remove double quotes from each item
                          });

                        // Select the <select> element
                        var selectElement = document.getElementById("languages");

                        // Loop through the picklist values and create <option> elements
                        picklistValues.forEach(function(value) {
                            var option = document.createElement("option");
                            option.value = value;
                            option.textContent = value;
                            selectElement.appendChild(option);
                                });
                    </script>









            </div>
            <button type="submit" class="btn btn-primary btn-wide" id="label_submit">Submit</button>
        </form>
    </div>
</body>
</html>
